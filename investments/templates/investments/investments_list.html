{% extends 'base.html' %}
{% load static %}

{% block title %}Investment Dashboard{% endblock %}

{% block content %}
<img src="{% static 'images/roadimage.png' %}" alt="WealthBook Logo" class="investment-image" >
             
<div class="investment-container">
    <section class="hero">
        <h1>Welcome to Your Investment Dashboard</h1>
        <p>Your personal hub to track, manage, and grow your investments.</p>
    </section>


    <section class="market-data">
        <h2>Real-Time Market Data</h2>


        <div class="category-section">
            <h3>Stocks</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Last</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Change</th>
                        <th>Change %</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Apple (AAPL)</td><td>175.36</td><td>178.50</td><td>173.80</td><td>+2.10</td><td>+1.21%</td><td>16:54:52</td></tr>
                    <tr><td>Microsoft (MSFT)</td><td>310.50</td><td>315.00</td><td>308.10</td><td>-0.56</td><td>-0.18%</td><td>16:54:52</td></tr>
                    <tr><td>Amazon (AMZN)</td><td>127.89</td><td>130.20</td><td>126.50</td><td>+1.50</td><td>+1.19%</td><td>16:54:52</td></tr>
                    <tr><td>Google (GOOGL)</td><td>145.10</td><td>147.50</td><td>144.00</td><td>-0.90</td><td>-0.62%</td><td>16:54:52</td></tr>
                    <tr><td>Dow Jones</td><td>33,900.50</td><td>34,200.00</td><td>33,700.50</td><td>-100.50</td><td>-0.30%</td><td>16:54:52</td></tr>
                    <tr><td>S&P 500</td><td>4,270.10</td><td>4,290.50</td><td>4,250.80</td><td>+15.60</td><td>+0.36%</td><td>16:54:52</td></tr>
                    <tr><td>Nasdaq</td><td>13,590.40</td><td>13,700.10</td><td>13,500.30</td><td>-25.10</td><td>-0.18%</td><td>16:54:52</td></tr>
                </tbody>
            </table>
        </div>


        <div class="category-section">
            <h3>Precious Metals</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Last</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Change</th>
                        <th>Change %</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Gold</td><td>1,950.45</td><td>1,970.00</td><td>1,940.00</td><td>+5.15</td><td>+0.26%</td><td>16:54:52</td></tr>
                    <tr><td>Silver</td><td>25.10</td><td>25.50</td><td>24.80</td><td>-0.10</td><td>-0.40%</td><td>16:54:52</td></tr>
                    <tr><td>Platinum</td><td>1,020.75</td><td>1,040.00</td><td>1,010.50</td><td>+3.20</td><td>+0.31%</td><td>16:54:52</td></tr>
                    <tr><td>Palladium</td><td>2,340.10</td><td>2,370.00</td><td>2,320.50</td><td>-15.00</td><td>-0.64%</td><td>16:54:52</td></tr>
                    <tr><td>Rhodium</td><td>6,700.00</td><td>6,800.00</td><td>6,650.00</td><td>+50.00</td><td>+0.75%</td><td>16:54:52</td></tr>
                    <tr><td>Iridium</td><td>4,800.00</td><td>4,850.00</td><td>4,780.00</td><td>-20.00</td><td>-0.41%</td><td>16:54:52</td></tr>
                    <tr><td>Copper</td><td>4.21</td><td>4.25</td><td>4.18</td><td>+0.02</td><td>+0.48%</td><td>16:54:52</td></tr>
                </tbody>
            </table>
        </div>


        <div class="category-section">
            <h3>Bonds</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Last</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Change</th>
                        <th>Change %</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>US 10-Year Treasury</td><td>3.56%</td><td>3.60%</td><td>3.50%</td><td>-0.02%</td><td>-0.56%</td><td>16:54:52</td></tr>
                    <tr><td>US 30-Year Treasury</td><td>4.10%</td><td>4.15%</td><td>4.05%</td><td>+0.01%</td><td>+0.24%</td><td>16:54:52</td></tr>
                    <tr><td>Corporate Bond (AAA)</td><td>2.85%</td><td>2.90%</td><td>2.80%</td><td>-0.01%</td><td>-0.35%</td><td>16:54:52</td></tr>
                    <tr><td>Municipal Bond</td><td>1.95%</td><td>2.00%</td><td>1.90%</td><td>+0.02%</td><td>+1.04%</td><td>16:54:52</td></tr>
                    <tr><td>High Yield Bond</td><td>5.50%</td><td>5.55%</td><td>5.45%</td><td>-0.02%</td><td>-0.36%</td><td>16:54:52</td></tr>
                    <tr><td>Euro Bond</td><td>1.10%</td><td>1.12%</td><td>1.08%</td><td>+0.01%</td><td>+0.90%</td><td>16:54:52</td></tr>
                    <tr><td>Green Bond</td><td>2.00%</td><td>2.03%</td><td>1.98%</td><td>+0.00%</td><td>+0.00%</td><td>16:54:52</td></tr>
                </tbody>
            </table>
        </div>

        <div class="category-section">
            <h3>Real Estate</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Last</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Change</th>
                        <th>Change %</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Vanguard REIT (VNQ)</td><td>80.21</td><td>81.50</td><td>79.80</td><td>-0.45</td><td>-0.56%</td><td>16:54:52</td></tr>
                    <tr><td>Blackstone Real Estate Income Trust (BREIT)</td><td>100.02</td><td>101.30</td><td>99.80</td><td>+0.20</td><td>+0.20%</td><td>16:54:52</td></tr>
                    <tr><td>US Housing Market Index</td><td>300.00</td><td>305.00</td><td>295.00</td><td>+5.00</td><td>+1.70%</td><td>16:54:52</td></tr>
                    <tr><td>Prologis Inc. (PLD)</td><td>120.75</td><td>122.00</td><td>118.50</td><td>-0.60</td><td>-0.49%</td><td>16:54:52</td></tr>                    |
                    <tr><td>Real Estate Select Sector (XLRE)</td><td>35.60</td><td>36.00</td><td>35.00</td><td>+0.20</td><td>+0.56%</td><td>16:54:52</td></tr>
                    <tr><td>American Tower Corporation (AMT)</td><td>210.00</td><td>212.50</td><td>208.30</td><td>-1.50</td><td>-0.71%</td><td>16:54:52</td></tr>
                </tbody>
            </table>
        </div>

    </section>
</div>

<div class="investment-container">
<h2>Add New Investment</h2>

<form method="post" action="{% url 'investments:investment_confirm' %}" class="investment-form">
    {% csrf_token %}
    <fieldset>
        <legend>Add New Investment</legend>
        
        <div class="form-group">
            <label for="investment_type">Investment Type:</label>
            <select id="investment_type" name="investment_type" required>
                <option value="" disabled selected>Select Type</option>
                <option value="1">Stocks</option>
                <option value="2">Precious Metals</option>
                <option value="3">Bonds</option>
                <option value="4">Real Estate</option>
            </select>
        </div>

        <div class="form-group">
            <label for="investment_name">Select Investment:</label>
            <select id="investment_name" name="investment_name" required>
                <option value="" disabled selected>Select Investment</option>
                <!-- Investment Options -->
                {% comment %} Stocks {% endcomment %}
                <optgroup label="Stocks">
                    <option value="1_150">Apple ($150)</option>
                    <option value="2_4300">S&P 500 ($4,300)</option>
                    <option value="3_35000">Dow Jones ($35,000)</option>
                </optgroup>
                {% comment %} Precious Metals {% endcomment %}
                <optgroup label="Precious Metals">
                    <option value="4_1950">Gold ($1,950)</option>
                    <option value="5_25">Silver ($25)</option>
                    <option value="6_1000">Platinum ($1,000)</option>
                </optgroup>
                {% comment %} Bonds {% endcomment %}
                <optgroup label="Bonds">
                    <option value="7_1000">US Treasury Bond ($1,000)</option>
                    <option value="8_1200">Corporate Bond ($1,200)</option>
                    <option value="9_1050">Municipal Bond ($1,050)</option>
                </optgroup>
                {% comment %} Real Estate {% endcomment %}
                <optgroup label="Real Estate">
                    <option value="10_80.21">Vanguard REIT ($80.21)</option>
                    <option value="11_100.02">Blackstone REIT ($100.02)</option>
                    <option value="12_120.75">Prologis Inc. ($120.75)</option>
                </optgroup>
            </select>
        </div>

        <div class="form-group">
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" min="1" value="1" required>
        </div>
        
        <button type="submit" class="btn btn-primary">Review Purchase</button>
    </fieldset>
</form>


<section class="investment-list">
    <h2>Your Investments</h2>
    <div class="table-container">
        <table class="investment-table">
            <thead>
                <tr>
                    <th>Investment Type</th>
                    <th>Investment Name</th>
                    <th>Quantity</th>
                    <th>Price per Unit</th>
                    <th>Total Cost</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for investment in investments %}
                <tr>
                    <td>{{ investment.investment_type }}</td>
                    <td>{{ investment.name }}</td>
                    <td>{{ investment.quantity }}</td>
                    <td>${{ investment.price_per_unit }}</td>
                    <td>${{ investment.total_cost }}</td>
                    <td>
                        <a href="{% url 'investments:edit_investment' investment.id %}" class="edit-link">✏️ Edit</a> |
                        <a href="{% url 'investments:delete_investment' investment.id %}" class="delete-link">❌ Delete</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6">No investments found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>


    
</div>

{% endblock %}



